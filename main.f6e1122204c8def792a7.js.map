{"version":3,"sources":["webpack:///./image-li.hbs","webpack:///./index.js","webpack:///./tooltip.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","program","noop","msnryInst","basicLightbox","require","enterBtn","document","querySelector","closeBtn","form","qSearch","imagesLoaded","Masonry","itemSelector","columnWidth","percentPosition","stagger","gutter","InfiniteScroll","infScroll","path","this","pageIndex","responseType","status","outlayer","scrollThreshold","loadOnScroll","append","history","on","res","info","JSON","parse","div","createElement","innerHTML","imgList","hits","items","querySelectorAll","appendItems","appended","layout","length","PNotify","title","text","delay","modules","Desktop","desktop","success","forEach","el","children","addEventListener","event","src","toElement","create","show","loadNextPage","error","item","preventDefault","target","elements","value","remove","getElementById","tooltipElem","onmouseover","tooltipHtml","dataset","tooltip","className","body","coords","getBoundingClientRect","left","offsetWidth","top","offsetHeight","style","onmouseout","e"],"mappings":"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","file":"main.f6e1122204c8def792a7.js","sourcesContent":["var Handlebars = require(\"../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"gallery__item grid-item\\\">\\r\\n<div class=\\\"photo-card center-align valign-wrapper\\\">\\r\\n<img id=\\\"imgPixabay\\\" src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"webformatURL\") || (depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":26},\"end\":{\"line\":5,\"column\":42}}}) : helper)))\n    + \"\\\" data-source=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"largeImageURL\") || (depth0 != null ? lookupProperty(depth0,\"largeImageURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"largeImageURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":57},\"end\":{\"line\":5,\"column\":74}}}) : helper)))\n    + \"\\\" alt=\\\"#\\\" />\\r\\n<div class=\\\"stats\\\">\\r\\n<div class=\\\"flex-center\\\">\\r\\n<i class=\\\"material-icons stats__icons\\\">thumb_up</i>\\r\\n<p class=\\\"stats-item valign-wrapper\\\" data-tooltip=\\\"Likes!\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"likes\") || (depth0 != null ? lookupProperty(depth0,\"likes\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":59},\"end\":{\"line\":9,\"column\":68}}}) : helper)))\n    + \"</p>\\r\\n</div>\\r\\n<div class=\\\"flex-center\\\">\\r\\n<i class=\\\"material-icons stats__icons\\\">visibility</i>\\r\\n<p class=\\\"stats-item valign-wrapper\\\" data-tooltip=\\\"Просмотры\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"views\") || (depth0 != null ? lookupProperty(depth0,\"views\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":62},\"end\":{\"line\":13,\"column\":71}}}) : helper)))\n    + \"</p>\\r\\n</div>\\r\\n<div class=\\\"flex-center\\\">\\r\\n<i class=\\\"material-icons stats__icons\\\">comment</i>\\r\\n<p class=\\\"stats-item valign-wrapper\\\" data-tooltip=\\\"Комментарии\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"comments\") || (depth0 != null ? lookupProperty(depth0,\"comments\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":64},\"end\":{\"line\":17,\"column\":76}}}) : helper)))\n    + \"</p>\\r\\n</div>\\r\\n<div class=\\\"flex-center\\\">\\r\\n<i class=\\\"material-icons stats__icons\\\">cloud_download</i>\\r\\n<p class=\\\"stats-item valign-wrapper\\\" data-tooltip=\\\"Загрузки\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"downloads\") || (depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":61},\"end\":{\"line\":21,\"column\":74}}}) : helper)))\n    + \"</p>\\r\\n</div>\\r\\n</div>\\r\\n</div>\\r\\n</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":0},\"end\":{\"line\":26,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","\"use strict\";\n\nimport '../node_modules/material-icons/iconfont/material-icons.scss';\nimport './styles.scss';\nimport '../node_modules/materialize-css/dist/css/materialize.css';\nimport '../node_modules/pnotify/dist/PNotifyBrightTheme.css';\nimport '../node_modules/basiclightbox/dist/basicLightbox.min.css';\nimport imgList from './image-li.hbs';\nimport '../node_modules/materialize-css/dist/js/materialize.js';\nimport './tooltip.js';\nimport Masonry from 'masonry-layout';\nimport imagesLoaded from 'imagesloaded';\nimport InfiniteScroll from 'infinite-scroll';\nimport PNotify from '../node_modules/pnotify/dist/es/PNotify.js';\n\nconst basicLightbox = require('basiclightbox');\n\nconst enterBtn = document.querySelector('#enter');\nconst closeBtn = document.querySelector('#close');\nconst form = document.querySelector('form');\n\nlet qSearch = '';\nconst KEY = '15687137-c5f0f01058e95950ce1cda2fd';\nlet msnryInst;\n\nimagesLoaded('img', function() {\n    msnryInst = new Masonry( '.gallery', {\n    itemSelector: '.grid-item',\n    columnWidth: '.grid-sizer',\n    percentPosition: true,\n    stagger: 30,\n    gutter: 5,\n    });\n});\n\nInfiniteScroll.imagesLoaded = imagesLoaded;\n\nlet infScroll = new InfiniteScroll('.gallery', {\n    path () {\n        return `https://cors-anywhere.herokuapp.com/https://pixabay.com/api/?key=${KEY}&q=${qSearch}&image_type=photo&orientation=horizontal&page=${this.pageIndex}&per_page=12`\n    },\n    responseType: 'text',\n    status: '.page-load-status',\n    outlayer: msnryInst,\n    scrollThreshold: 100,\n    loadOnScroll: true,\n    append: false,\n    history: false,\n});\n\ninfScroll.on('load', (res) => {\n    const info = JSON.parse(res);\n    let div = document.createElement('div');\n    div.innerHTML = imgList(info.hits);\n    let items = div.querySelectorAll('.gallery__item');\n    imagesLoaded(items, function() {\n        infScroll.appendItems(items);\n        msnryInst.appended(items);\n        msnryInst.layout();\n        items.length === 0 ? \n        PNotify.info({\n            title: 'No matches!',\n            text: 'Nothing matching your search',\n            delay: 3000,\n            modules: {\n                Desktop: {\n                    desktop: true\n                }\n                }\n        })\n        :\n        PNotify.success({\n            title: 'Excelent!',\n            text: 'Your request is loaded.',\n            delay: 3000,\n            modules: {\n                Desktop: {\n                  desktop: true\n                }\n            }\n        });\n        items.forEach((el)=> {\n            el.children[0].children[0].addEventListener('click', (event) => {\n            let src = event.toElement.src;\n            const instance = basicLightbox.create(`\n                <img src=\"${src}\" width=\"960\">\n            `,);\n            instance.show();\n            });\n        });\n    });\n});\ninfScroll.loadNextPage();\n\ninfScroll.on('request', () => {\n    PNotify.info({\n        title: 'Loading...',\n        text: 'Your request is being processed',\n        delay: 1000,\n        modules: {\n            Desktop: {\n              desktop: true\n            }\n          }\n    })\n})\n\ninfScroll.on('error', (error, path) => {\n    PNotify.error({\n        title: 'Error',\n        text: `Could not load: ${path}`,\n        delay: 3000,\n        modules: {\n            Desktop: {\n              desktop: true\n            }\n          }\n    })\n})\n\nconst renderGallerySearch = (item) => {\n    if (qSearch === item.value) {\n        infScroll.loadNextPage();\n        \n    } else {\n        qSearch = item.value;\n        let galleryItems = document.querySelectorAll('.gallery__item');\n        galleryItems.forEach((el) => {\n            el.remove();\n        })\n        infScroll.pageIndex = 1;\n        infScroll.loadNextPage();\n    };\n};\n\nform.addEventListener('submit', (event) => {\n    event.preventDefault();\n    renderGallerySearch(event.target.elements[0]);\n    let input = document.querySelector('#search');\n    input.value = '';\n    msnryInst.layout();\n});\n\nenterBtn.addEventListener('click', () => {\n    qSearch = document.getElementById('search').value;\n    let input = document.querySelector('#search');\n    input.value = '';\n    infScroll.loadNextPage();\n    msnryInst.layout();\n});\n\ncloseBtn.addEventListener('click', () => {\n    let input = document.querySelector('#search');\n    input.value = '';\n});\n","'use strict';\r\n\r\nlet tooltipElem;\r\n\r\ndocument.onmouseover = function(event) {\r\n    let target = event.target;\r\n    let tooltipHtml = target.dataset.tooltip;\r\n    if (!tooltipHtml) return;\r\n    tooltipElem = document.createElement('div');\r\n    tooltipElem.className = 'tooltip';\r\n    tooltipElem.innerHTML = tooltipHtml;\r\n    document.body.append(tooltipElem);\r\n    let coords = target.getBoundingClientRect();\r\n    let left = coords.left + (target.offsetWidth - tooltipElem.offsetWidth) / 2;\r\n    if (left < 0) left = 0;\r\n    let top = coords.top - tooltipElem.offsetHeight - 5;\r\n    if (top < 0) {\r\n    top = coords.top + target.offsetHeight + 5;\r\n    };\r\n    tooltipElem.style.left = left + 'px';\r\n    tooltipElem.style.top = top + 'px';\r\n};\r\n\r\ndocument.onmouseout = function(e) {\r\n    if (tooltipElem) {\r\n    tooltipElem.remove();\r\n    tooltipElem = null;\r\n    }\r\n};\r\n\r\n\r\n"],"sourceRoot":""}